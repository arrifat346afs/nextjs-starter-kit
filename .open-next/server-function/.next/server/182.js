"use strict";exports.id=182,exports.ids=[182],exports.modules={750:(e,t,r)=>{r.d(t,{bg:()=>u,iI:()=>c});for(var n=[],i=[],o=Uint8Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=s.length;a<l;++a)n[a]=s[a],i[s.charCodeAt(a)]=a;function u(e){var t,r,n=function(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}(e),s=n[0],a=n[1],l=new o((s+a)*3/4-a),u=0,c=a>0?s-4:s;for(r=0;r<c;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return 2===a&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,l[u++]=255&t),1===a&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l}function c(e){for(var t,r=e.length,i=r%3,o=[],s=0,a=r-i;s<a;s+=16383)o.push(function(e,t,r){for(var i,o=[],s=t;s<r;s+=3)i=(e[s]<<16&0xff0000)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(n[i>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return o.join("")}(e,s,s+16383>a?a:s+16383));return 1===i?o.push(n[(t=e[r-1])>>2]+n[t<<4&63]+"=="):2===i&&o.push(n[(t=(e[r-2]<<8)+e[r-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},8550:(e,t,r)=>{r.d(t,{i:()=>c});var n,i,o=r(17796),s=Object.defineProperty,a=(e,t,r)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,l=(e,t,r)=>a(e,"symbol"!=typeof t?t+"":t,r);let u=Symbol.for("ConvexError");class c extends(i=Error,n=u,i){constructor(e){super("string"==typeof e?e:(0,o.E$)(e)),l(this,"name","ConvexError"),l(this,"data"),l(this,n,!0),this.data=e}}},16029:(e,t,r)=>{r.d(t,{f:()=>i}),r(32077),r(36024);var n=Object.defineProperty;function i(e){}},17413:(e,t,r)=>{r.d(t,{Jc:()=>o});var n=r(98049);let i=Symbol.for("toReferencePath");function o(e){let t;if("string"==typeof e)t=e.startsWith("function://")?{functionHandle:e}:{name:e};else if(e[n.A])t={name:e[n.A]};else{let r=e[i]??null;if(!r)throw Error(`${e} is not a functionReference`);t={reference:r}}return t}},17796:(e,t,r)=>{r.d(t,{E$:()=>p,cy:()=>b,du:()=>function e(t){if(null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t)return t;if(Array.isArray(t))return t.map(t=>e(t));if("object"!=typeof t)throw Error(`Unexpected type of ${t}`);let r=Object.entries(t);if(1===r.length){let e=r[0][0];if("$bytes"===e){if("string"!=typeof t.$bytes)throw Error(`Malformed $bytes field on ${t}`);return n.bg(t.$bytes).buffer}if("$integer"===e){if("string"!=typeof t.$integer)throw Error(`Malformed $integer field on ${t}`);return d(t.$integer)}if("$float"===e){if("string"!=typeof t.$float)throw Error(`Malformed $float field on ${t}`);let e=n.bg(t.$float);if(8!==e.byteLength)throw Error(`Received ${e.byteLength} bytes, expected 8 for $float`);let r=new DataView(e.buffer).getFloat64(0,!0);if(!c(r))throw Error(`Float ${r} should be encoded as a number`);return r}if("$set"===e)throw Error("Received a Set which is no longer supported as a Convex type.");if("$map"===e)throw Error("Received a Map which is no longer supported as a Convex type.")}let i={};for(let[r,n]of Object.entries(t))f(r),i[r]=e(n);return i},rz:()=>v});var n=r(750),i=r(20142);let o=BigInt("-9223372036854775808"),s=BigInt("9223372036854775807"),a=BigInt("0"),l=BigInt("8"),u=BigInt("256");function c(e){return Number.isNaN(e)||!Number.isFinite(e)||Object.is(e,-0)}let h=DataView.prototype.setBigInt64?function(e){if(e<o||s<e)throw Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);let t=new ArrayBuffer(8);return new DataView(t).setBigInt64(0,e,!0),n.iI(new Uint8Array(t))}:function(e){e<a&&(e-=o+o);let t=e.toString(16);t.length%2==1&&(t="0"+t);let r=new Uint8Array(new ArrayBuffer(8)),i=0;for(let n of t.match(/.{2}/g).reverse())r.set([parseInt(n,16)],i++),e>>=l;return n.iI(r)},d=DataView.prototype.getBigInt64?function(e){let t=n.bg(e);if(8!==t.byteLength)throw Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);return new DataView(t.buffer).getBigInt64(0,!0)}:function(e){let t=n.bg(e);if(8!==t.byteLength)throw Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);let r=a,i=a;for(let e of t)r+=BigInt(e)*u**i,i++;return r>s&&(r+=o+o),r};function f(e){if(e.length>1024)throw Error(`Field name ${e} exceeds maximum field name length 1024.`);if(e.startsWith("$"))throw Error(`Field name ${e} starts with a '$', which is reserved.`);for(let t=0;t<e.length;t+=1){let r=e.charCodeAt(t);if(r<32||r>=127)throw Error(`Field name ${e} has invalid character '${e[t]}': Field names can only contain non-control ASCII characters`)}}function p(e){return JSON.stringify(e,(e,t)=>void 0===t?"undefined":"bigint"==typeof t?`${t.toString()}n`:t)}function y(e,t,r,a){if(void 0===e){let e=r&&` (present at path ${r} in original object ${p(t)})`;throw Error(`undefined is not a valid Convex value${e}. To learn about Convex's supported types, see https://docs.convex.dev/using/types.`)}if(null===e)return e;if("bigint"==typeof e){if(e<o||s<e)throw Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);return{$integer:h(e)}}if("number"==typeof e){if(!c(e))return e;{let t=new ArrayBuffer(8);return new DataView(t).setFloat64(0,e,!0),{$float:n.iI(new Uint8Array(t))}}}if("boolean"==typeof e||"string"==typeof e)return e;if(e instanceof ArrayBuffer)return{$bytes:n.iI(new Uint8Array(e))};if(Array.isArray(e))return e.map((e,n)=>y(e,t,r+`[${n}]`,!1));if(e instanceof Set)throw Error(g(r,"Set",[...e],t));if(e instanceof Map)throw Error(g(r,"Map",[...e],t));if(!(0,i.iY)(e)){let n=e?.constructor?.name;throw Error(g(r,n?`${n} `:"",e,t))}let l={},u=Object.entries(e);for(let[e,n]of(u.sort(([e,t],[r,n])=>e===r?0:e<r?-1:1),u))void 0!==n?(f(e),l[e]=y(n,t,r+`.${e}`,!1)):a&&(f(e),l[e]=m(n,t,r+`.${e}`));return l}function g(e,t,r,n){return e?`${t}${p(r)} is not a supported Convex type (present at path ${e} in original object ${p(n)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`:`${t}${p(r)} is not a supported Convex type.`}function m(e,t,r){if(void 0===e)return{$undefined:null};if(void 0===t)throw Error(`Programming error. Current value is ${p(e)} but original value is undefined`);return y(e,t,r,!1)}function v(e){return y(e,e,"",!1)}function b(e){return m(e,e,"")}},20142:(e,t,r)=>{function n(e){if(void 0===e)return{};if(!o(e))throw Error(`The arguments to a Convex function must be an object. Received: ${e}`);return e}function i(e){if(void 0===e)throw Error("Client created with undefined deployment address. If you used an environment variable, check that it's set.");if("string"!=typeof e)throw Error(`Invalid deployment address: found ${e}".`);if(!(e.startsWith("http:")||e.startsWith("https:")))throw Error(`Invalid deployment address: Must start with "https://" or "http://". Found "${e}".`);try{new URL(e)}catch{throw Error(`Invalid deployment address: "${e}" is not a valid URL. If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}if(e.endsWith(".convex.site"))throw Error(`Invalid deployment address: "${e}" ends with .convex.site, which is used for HTTP Actions. Convex deployment URLs typically end with .convex.cloud? If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}function o(e){let t="object"==typeof e,r=Object.getPrototypeOf(e),n=null===r||r===Object.prototype||r?.constructor?.name==="Object";return t&&n}r.d(t,{R6:()=>i,Zy:()=>n,iY:()=>o})},31350:(e,t,r)=>{r.d(t,{dp:()=>en.dp});var n=r(64365),i=r(8550),o=r(17796);function s(e,t){if("undefined"==typeof Convex||void 0===Convex.syscall)throw Error("The Convex database and auth objects are being used outside of a Convex backend. Did you mean to use `useQuery` or `useMutation` to call a Convex function?");return JSON.parse(Convex.syscall(e,JSON.stringify(t)))}async function a(e,t){let r;if("undefined"==typeof Convex||void 0===Convex.asyncSyscall)throw Error("The Convex database and auth objects are being used outside of a Convex backend. Did you mean to use `useQuery` or `useMutation` to call a Convex function?");try{r=await Convex.asyncSyscall(e,JSON.stringify(t))}catch(e){if(void 0!==e.data){let t=new i.i(e.message);throw t.data=(0,o.du)(e.data),t}throw Error(e.message)}return JSON.parse(r)}r(17413);var l=Object.defineProperty,u=(e,t,r)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,c=(e,t,r)=>u(e,"symbol"!=typeof t?t+"":t,r);class h{constructor(){c(this,"_isExpression"),c(this,"_value")}}var d=Object.defineProperty,f=(e,t,r)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,p=(e,t,r)=>f(e,"symbol"!=typeof t?t+"":t,r);class y extends h{constructor(e){super(),p(this,"inner"),this.inner=e}serialize(){return this.inner}}function g(e){return e instanceof y?e.serialize():{$literal:(0,o.cy)(e)}}let m={eq(e,t){if("string"!=typeof e)throw Error("The first argument to `q.eq` must be a field name.");return new y({$eq:[g(new y({$field:e})),g(t)]})},or:(...e)=>new y({$or:e.map(g)})};var v=Object.defineProperty,b=(e,t,r)=>t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,w=(e,t,r)=>b(e,"symbol"!=typeof t?t+"":t,r);class x{constructor(){w(this,"_isExpression"),w(this,"_value")}}var $=Object.defineProperty,O=(e,t,r)=>t in e?$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,E=(e,t,r)=>O(e,"symbol"!=typeof t?t+"":t,r);class j extends x{constructor(e){super(),E(this,"inner"),this.inner=e}serialize(){return this.inner}}function C(e){return e instanceof j?e.serialize():{$literal:(0,o.cy)(e)}}let k={eq:(e,t)=>new j({$eq:[C(e),C(t)]}),neq:(e,t)=>new j({$neq:[C(e),C(t)]}),lt:(e,t)=>new j({$lt:[C(e),C(t)]}),lte:(e,t)=>new j({$lte:[C(e),C(t)]}),gt:(e,t)=>new j({$gt:[C(e),C(t)]}),gte:(e,t)=>new j({$gte:[C(e),C(t)]}),add:(e,t)=>new j({$add:[C(e),C(t)]}),sub:(e,t)=>new j({$sub:[C(e),C(t)]}),mul:(e,t)=>new j({$mul:[C(e),C(t)]}),div:(e,t)=>new j({$div:[C(e),C(t)]}),mod:(e,t)=>new j({$mod:[C(e),C(t)]}),neg:e=>new j({$neg:C(e)}),and:(...e)=>new j({$and:e.map(C)}),or:(...e)=>new j({$or:e.map(C)}),not:e=>new j({$not:C(e)}),field:e=>new j({$field:e})};var A=Object.defineProperty,q=(e,t,r)=>t in e?A(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,I=(e,t,r)=>q(e,"symbol"!=typeof t?t+"":t,r);class P{constructor(){I(this,"_isIndexRange")}}var S=Object.defineProperty,T=(e,t,r)=>t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,_=(e,t,r)=>T(e,"symbol"!=typeof t?t+"":t,r);class L extends P{constructor(e){super(),_(this,"rangeExpressions"),_(this,"isConsumed"),this.rangeExpressions=e,this.isConsumed=!1}static new(){return new L([])}consume(){if(this.isConsumed)throw Error("IndexRangeBuilder has already been used! Chain your method calls like `q => q.eq(...).eq(...)`. See https://docs.convex.dev/using/indexes");this.isConsumed=!0}eq(e,t){return this.consume(),new L(this.rangeExpressions.concat({type:"Eq",fieldPath:e,value:(0,o.cy)(t)}))}gt(e,t){return this.consume(),new L(this.rangeExpressions.concat({type:"Gt",fieldPath:e,value:(0,n.rz)(t)}))}gte(e,t){return this.consume(),new L(this.rangeExpressions.concat({type:"Gte",fieldPath:e,value:(0,n.rz)(t)}))}lt(e,t){return this.consume(),new L(this.rangeExpressions.concat({type:"Lt",fieldPath:e,value:(0,n.rz)(t)}))}lte(e,t){return this.consume(),new L(this.rangeExpressions.concat({type:"Lte",fieldPath:e,value:(0,n.rz)(t)}))}export(){return this.consume(),this.rangeExpressions}}var N=Object.defineProperty,F=(e,t,r)=>t in e?N(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,R=(e,t,r)=>F(e,"symbol"!=typeof t?t+"":t,r);class B{constructor(){R(this,"_isSearchFilter")}}function J(e,t,r,n){if(void 0===e)throw TypeError(`Must provide arg ${t} \`${n}\` to \`${r}\``)}var D=Object.defineProperty,z=(e,t,r)=>t in e?D(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,V=(e,t,r)=>z(e,"symbol"!=typeof t?t+"":t,r);class M extends B{constructor(e){super(),V(this,"filters"),V(this,"isConsumed"),this.filters=e,this.isConsumed=!1}static new(){return new M([])}consume(){if(this.isConsumed)throw Error("SearchFilterBuilder has already been used! Chain your method calls like `q => q.search(...).eq(...)`.");this.isConsumed=!0}search(e,t){return J(e,1,"search","fieldName"),J(t,2,"search","query"),this.consume(),new M(this.filters.concat({type:"Search",fieldPath:e,value:t}))}eq(e,t){return J(e,1,"eq","fieldName"),2!=arguments.length&&J(t,2,"search","value"),this.consume(),new M(this.filters.concat({type:"Eq",fieldPath:e,value:(0,o.cy)(t)}))}export(){return this.consume(),this.filters}}var Q=r(60634),U=Object.defineProperty,Y=(e,t,r)=>t in e?U(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,W=(e,t,r)=>Y(e,"symbol"!=typeof t?t+"":t,r);function Z(e){throw Error("consumed"===e?"This query is closed and can't emit any more values.":"This query has been chained with another operator and can't be reused.")}Symbol.asyncIterator;class H{constructor(e){W(this,"state"),this.state={type:"preparing",query:e}}takeQuery(){if("preparing"!==this.state.type)throw Error("A query can only be chained once and can't be chained after iteration begins.");let e=this.state.query;return this.state={type:"closed"},e}startQuery(){if("executing"===this.state.type)throw Error("Iteration can only begin on a query once.");("closed"===this.state.type||"consumed"===this.state.type)&&Z(this.state.type);let{queryId:e}=s("1.0/queryStream",{query:this.state.query,version:Q.r});return this.state={type:"executing",queryId:e},e}closeQuery(){"executing"===this.state.type&&s("1.0/queryCleanup",{queryId:this.state.queryId}),this.state={type:"consumed"}}order(e){J(e,1,"order","order");let t=this.takeQuery();if("Search"===t.source.type)throw Error("Search queries must always be in relevance order. Can not set order manually.");if(null!==t.source.order)throw Error("Queries may only specify order at most once");return t.source.order=e,new H(t)}filter(e){J(e,1,"filter","predicate");let t=this.takeQuery();return t.operators.push({filter:C(e(k))}),new H(t)}limit(e){J(e,1,"limit","n");let t=this.takeQuery();return t.operators.push({limit:e}),new H(t)}[Symbol.asyncIterator](){return this.startQuery(),this}async next(){("closed"===this.state.type||"consumed"===this.state.type)&&Z(this.state.type);let e="preparing"===this.state.type?this.startQuery():this.state.queryId,{value:t,done:r}=await a("1.0/queryStreamNext",{queryId:e});return r&&this.closeQuery(),{value:(0,n.du)(t),done:r}}return(){return this.closeQuery(),Promise.resolve({done:!0,value:void 0})}async paginate(e){if(J(e,1,"paginate","options"),"number"!=typeof e?.numItems||e.numItems<0)throw Error(`\`options.numItems\` must be a positive number. Received \`${e?.numItems}\`.`);let t=this.takeQuery(),r=e.numItems,i=e.cursor,o=e?.endCursor??null,s=e.maximumRowsRead??null,{page:l,isDone:u,continueCursor:c,splitCursor:h,pageStatus:d}=await a("1.0/queryPage",{query:t,cursor:i,endCursor:o,pageSize:r,maximumRowsRead:s,maximumBytesRead:e.maximumBytesRead,version:Q.r});return{page:l.map(e=>(0,n.du)(e)),isDone:u,continueCursor:c,splitCursor:h,pageStatus:d}}async collect(){let e=[];for await(let t of this)e.push(t);return e}async take(e){return J(e,1,"take","n"),function(e,t,r,n){if(!Number.isInteger(e)||e<0)throw TypeError(`Arg 1 \`n\` to \`${r}\` must be a non-negative integer`)}(e,0,"take",0),this.limit(e).collect()}async first(){let e=await this.take(1);return 0===e.length?null:e[0]}async unique(){let e=await this.take(2);if(0===e.length)return null;if(2===e.length)throw Error("unique() query returned more than one result");return e[0]}}async function X(e,t){if(validateArg(e,1,"get","id"),"string"!=typeof e)throw Error(`Invalid argument \`id\` for \`db.get\`, expected string but got '${typeof e}': ${e}`);let r={id:convexToJson(e),isSystem:t,version};return jsonToConvex(await performAsyncSyscall("1.0/get",r))}async function G(e,t){if(e.startsWith("_"))throw Error("System tables (prefixed with `_`) are read-only.");return validateArg(e,1,"insert","table"),validateArg(t,2,"insert","value"),jsonToConvex(await performAsyncSyscall("1.0/insert",{table:e,value:convexToJson(t)}))._id}async function K(e,t){validateArg(e,1,"patch","id"),validateArg(t,2,"patch","value"),await performAsyncSyscall("1.0/shallowMerge",{id:convexToJson(e),value:patchValueToJson(t)})}async function ee(e,t){validateArg(e,1,"replace","id"),validateArg(t,2,"replace","value"),await performAsyncSyscall("1.0/replace",{id:convexToJson(e),value:convexToJson(t)})}async function et(e){validateArg(e,1,"delete","id"),await performAsyncSyscall("1.0/remove",{id:convexToJson(e)})}var er=r(41234);er.v.object({numItems:er.v.number(),cursor:er.v.union(er.v.string(),er.v.null()),endCursor:er.v.optional(er.v.union(er.v.string(),er.v.null())),id:er.v.optional(er.v.number()),maximumRowsRead:er.v.optional(er.v.number()),maximumBytesRead:er.v.optional(er.v.number())});var en=r(36024),ei=Object.defineProperty,eo=Object.defineProperty,es=Object.defineProperty,ea=(e,t,r)=>t in e?es(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,el=(e,t,r)=>ea(e,"symbol"!=typeof t?t+"":t,r);class eu{constructor(e,t){el(this,"_definition"),el(this,"_name"),this._definition=e,this._name=t,setReferencePath(this,`_reference/childComponent/${t}`)}get exports(){return function e(t,r){return new Proxy({},{get(n,i){if("string"==typeof i)return e(t,[...r,i]);if(i===toReferencePath){let e=`_reference/childComponent/${t}`;for(let t of r)e+=`/${t}`;return e}}})}(this._name,[])}}function ec(e){let t=[];for(let[r,n]of Object.entries(e)){let e;e="string"==typeof n?{type:"leaf",leaf:n}:ec(n),t.push([r,e])}return{type:"branch",branch:t}}function eh(e){return e.map(([e,t,r])=>{let n=null;if(null!==r)for(let[e,t]of(n=[],Object.entries(r)))void 0!==t&&n.push([e,{type:"value",value:JSON.stringify(convexToJson(t))}]);let i=t.componentDefinitionPath;if(!i)throw Error("no .componentPath for component definition "+JSON.stringify(t,null,2));return{name:e,path:i,args:n}})}var ed=Object.defineProperty,ef=(e,t,r)=>t in e?ed(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ep=(e,t,r)=>ef(e,"symbol"!=typeof t?t+"":t,r);class ey{constructor(e){ep(this,"indexes"),ep(this,"searchIndexes"),ep(this,"vectorIndexes"),ep(this,"validator"),this.indexes=[],this.searchIndexes=[],this.vectorIndexes=[],this.validator=e}index(e,t){return this.indexes.push({indexDescriptor:e,fields:t}),this}searchIndex(e,t){return this.searchIndexes.push({indexDescriptor:e,searchField:t.searchField,filterFields:t.filterFields||[]}),this}vectorIndex(e,t){return this.vectorIndexes.push({indexDescriptor:e,vectorField:t.vectorField,dimensions:t.dimensions,filterFields:t.filterFields||[]}),this}self(){return this}export(){return{indexes:this.indexes,searchIndexes:this.searchIndexes,vectorIndexes:this.vectorIndexes,documentType:this.validator.json}}}function eg(e){return new ey((0,er.d)(e)?e:er.v.object(e))}class em{constructor(e,t){ep(this,"tables"),ep(this,"strictTableNameTypes"),ep(this,"schemaValidation"),this.tables=e,this.schemaValidation=t?.schemaValidation===void 0||t.schemaValidation}export(){return JSON.stringify({tables:Object.entries(this.tables).map(([e,t])=>{let{indexes:r,searchIndexes:n,vectorIndexes:i,documentType:o}=t.export();return{tableName:e,indexes:r,searchIndexes:n,vectorIndexes:i,documentType:o}}),schemaValidation:this.schemaValidation})}}new em({_scheduled_functions:eg({name:er.v.string(),args:er.v.array(er.v.any()),scheduledTime:er.v.float64(),completedTime:er.v.optional(er.v.float64()),state:er.v.union(er.v.object({kind:er.v.literal("pending")}),er.v.object({kind:er.v.literal("inProgress")}),er.v.object({kind:er.v.literal("success")}),er.v.object({kind:er.v.literal("failed"),error:er.v.string()}),er.v.object({kind:er.v.literal("canceled")}))}),_storage:eg({sha256:er.v.string(),size:er.v.float64(),contentType:er.v.optional(er.v.string())})},void 0)},32077:(e,t,r)=>{r.d(t,{Tb:()=>n.Tb}),r(76426),r(16029);var n=r(47751)},36024:(e,t,r)=>{r.d(t,{dp:()=>s,qQ:()=>o});var n=r(98049),i=r(17413);function o(e){let t=(0,i.Jc)(e);if(void 0===t.name){if(void 0!==t.functionHandle)throw Error(`Expected function reference like "api.file.func" or "internal.file.func", but received function handle ${t.functionHandle}`);if(void 0!==t.reference)throw Error(`Expected function reference in the current component like "api.file.func" or "internal.file.func", but received reference ${t.reference}`);throw Error(`Expected function reference like "api.file.func" or "internal.file.func", but received ${JSON.stringify(t)}`)}if("string"==typeof e)return e;let r=e[n.A];if(!r)throw Error(`${e} is not a functionReference`);return r}let s=function e(t=[]){return new Proxy({},{get(r,i){if("string"==typeof i)return e([...t,i]);if(i===n.A){if(t.length<2){let e=["api",...t].join(".");throw Error(`API path is expected to be of the form \`api.moduleName.functionName\`. Found: \`${e}\``)}let e=t.slice(0,-1).join("/"),r=t[t.length-1];return"default"===r?e:e+":"+r}return i===Symbol.toStringTag?"FunctionReference":void 0}})}()},41234:(e,t,r)=>{r.d(t,{d:()=>x,v:()=>$});var n=r(17796),i=Object.defineProperty,o=(e,t,r)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,s=(e,t,r)=>o(e,"symbol"!=typeof t?t+"":t,r);class a{constructor({isOptional:e}){s(this,"type"),s(this,"fieldPaths"),s(this,"isOptional"),s(this,"isConvexValidator"),this.isOptional=e,this.isConvexValidator=!0}get optional(){return"optional"===this.isOptional}}class l extends a{constructor({isOptional:e,tableName:t}){super({isOptional:e}),s(this,"tableName"),s(this,"kind","id"),this.tableName=t}get json(){return{type:"id",tableName:this.tableName}}asOptional(){return new l({isOptional:"optional",tableName:this.tableName})}}class u extends a{constructor(){super(...arguments),s(this,"kind","float64")}get json(){return{type:"number"}}asOptional(){return new u({isOptional:"optional"})}}class c extends a{constructor(){super(...arguments),s(this,"kind","int64")}get json(){return{type:"bigint"}}asOptional(){return new c({isOptional:"optional"})}}class h extends a{constructor(){super(...arguments),s(this,"kind","boolean")}get json(){return{type:this.kind}}asOptional(){return new h({isOptional:"optional"})}}class d extends a{constructor(){super(...arguments),s(this,"kind","bytes")}get json(){return{type:this.kind}}asOptional(){return new d({isOptional:"optional"})}}class f extends a{constructor(){super(...arguments),s(this,"kind","string")}get json(){return{type:this.kind}}asOptional(){return new f({isOptional:"optional"})}}class p extends a{constructor(){super(...arguments),s(this,"kind","null")}get json(){return{type:this.kind}}asOptional(){return new p({isOptional:"optional"})}}class y extends a{constructor(){super(...arguments),s(this,"kind","any")}get json(){return{type:this.kind}}asOptional(){return new y({isOptional:"optional"})}}class g extends a{constructor({isOptional:e,fields:t}){super({isOptional:e}),s(this,"fields"),s(this,"kind","object"),this.fields=t}get json(){return{type:this.kind,value:globalThis.Object.fromEntries(globalThis.Object.entries(this.fields).map(([e,t])=>[e,{fieldType:t.json,optional:"optional"===t.isOptional}]))}}asOptional(){return new g({isOptional:"optional",fields:this.fields})}}class m extends a{constructor({isOptional:e,value:t}){super({isOptional:e}),s(this,"value"),s(this,"kind","literal"),this.value=t}get json(){return{type:this.kind,value:(0,n.rz)(this.value)}}asOptional(){return new m({isOptional:"optional",value:this.value})}}class v extends a{constructor({isOptional:e,element:t}){super({isOptional:e}),s(this,"element"),s(this,"kind","array"),this.element=t}get json(){return{type:this.kind,value:this.element.json}}asOptional(){return new v({isOptional:"optional",element:this.element})}}class b extends a{constructor({isOptional:e,key:t,value:r}){if(super({isOptional:e}),s(this,"key"),s(this,"value"),s(this,"kind","record"),"optional"===t.isOptional)throw Error("Record validator cannot have optional keys");if("optional"===r.isOptional)throw Error("Record validator cannot have optional values");this.key=t,this.value=r}get json(){return{type:this.kind,keys:this.key.json,values:{fieldType:this.value.json,optional:!1}}}asOptional(){return new b({isOptional:"optional",key:this.key,value:this.value})}}class w extends a{constructor({isOptional:e,members:t}){super({isOptional:e}),s(this,"members"),s(this,"kind","union"),this.members=t}get json(){return{type:this.kind,value:this.members.map(e=>e.json)}}asOptional(){return new w({isOptional:"optional",members:this.members})}}function x(e){return!!e.isConvexValidator}let $={id:e=>new l({isOptional:"required",tableName:e}),null:()=>new p({isOptional:"required"}),number:()=>new u({isOptional:"required"}),float64:()=>new u({isOptional:"required"}),bigint:()=>new c({isOptional:"required"}),int64:()=>new c({isOptional:"required"}),boolean:()=>new h({isOptional:"required"}),string:()=>new f({isOptional:"required"}),bytes:()=>new d({isOptional:"required"}),literal:e=>new m({isOptional:"required",value:e}),array:e=>new v({isOptional:"required",element:e}),object:e=>new g({isOptional:"required",fields:e}),record:(e,t)=>new b({isOptional:"required",key:e,value:t}),union:(...e)=>new w({isOptional:"required",members:e}),any:()=>new y({isOptional:"required"}),optional:e=>e.asOptional()}},47751:(e,t,r)=>{let n;r.d(t,{Tb:()=>d});var i=r(36024),o=r(20142),s=r(60634),a=r(64365),l=r(91276),u=Object.defineProperty,c=(e,t,r)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,h=(e,t,r)=>c(e,"symbol"!=typeof t?t+"":t,r);class d{constructor(e,t){if(h(this,"address"),h(this,"auth"),h(this,"adminAuth"),h(this,"encodedTsPromise"),h(this,"debug"),h(this,"fetchOptions"),h(this,"logger"),"boolean"==typeof t)throw Error("skipConvexDeploymentUrlCheck as the second argument is no longer supported. Please pass an options object, `{ skipConvexDeploymentUrlCheck: true }`.");let r=t??{};!0!==r.skipConvexDeploymentUrlCheck&&(0,o.R6)(e),this.logger=r.logger??(0,l.y4)({verbose:!1}),this.address=e,this.debug=!0}backendUrl(){return`${this.address}/api`}get url(){return this.address}setAuth(e){this.clearAuth(),this.auth=e}setAdminAuth(e,t){if(this.clearAuth(),void 0!==t){let r=btoa(String.fromCodePoint(...new TextEncoder().encode(JSON.stringify(t))));this.adminAuth=`${e}:${r}`}else this.adminAuth=e}clearAuth(){this.auth=void 0,this.adminAuth=void 0}setDebug(e){this.debug=e}setFetchOptions(e){this.fetchOptions=e}async consistentQuery(e,...t){let r=(0,o.Zy)(t[0]),n=this.getTimestamp();return await this.queryInner(e,r,{timestampPromise:n})}async getTimestamp(){return this.encodedTsPromise?this.encodedTsPromise:this.encodedTsPromise=this.getTimestampInner()}async getTimestampInner(){let e=n||fetch,t={"Content-Type":"application/json","Convex-Client":`npm-${s.r}`},r=await e(`${this.address}/api/query_ts`,{...this.fetchOptions,method:"POST",headers:t});if(!r.ok)throw Error(await r.text());let{ts:i}=await r.json();return i}async query(e,...t){let r=(0,o.Zy)(t[0]);return await this.queryInner(e,r,{})}async queryInner(e,t,r){let o=(0,i.qQ)(e),u=[(0,a.rz)(t)],c={"Content-Type":"application/json","Convex-Client":`npm-${s.r}`};this.adminAuth?c.Authorization=`Convex ${this.adminAuth}`:this.auth&&(c.Authorization=`Bearer ${this.auth}`);let h=n||fetch,d=r.timestampPromise?await r.timestampPromise:void 0,p=JSON.stringify({path:o,format:"convex_encoded_json",args:u,...d?{ts:d}:{}}),y=d?`${this.address}/api/query_at_ts`:`${this.address}/api/query`,g=await h(y,{...this.fetchOptions,body:p,method:"POST",headers:c});if(!g.ok&&560!==g.status)throw Error(await g.text());let m=await g.json();if(this.debug)for(let e of m.logLines??[])(0,l.Y7)(this.logger,"info","query",o,e);switch(m.status){case"success":return(0,a.du)(m.value);case"error":if(void 0!==m.errorData)throw f(m.errorData,new a.ik(m.errorMessage));throw Error(m.errorMessage);default:throw Error(`Invalid response: ${JSON.stringify(m)}`)}}async mutation(e,...t){let r=(0,o.Zy)(t[0]),u=(0,i.qQ)(e),c=JSON.stringify({path:u,format:"convex_encoded_json",args:[(0,a.rz)(r)]}),h={"Content-Type":"application/json","Convex-Client":`npm-${s.r}`};this.adminAuth?h.Authorization=`Convex ${this.adminAuth}`:this.auth&&(h.Authorization=`Bearer ${this.auth}`);let d=n||fetch,p=await d(`${this.address}/api/mutation`,{...this.fetchOptions,body:c,method:"POST",headers:h});if(!p.ok&&560!==p.status)throw Error(await p.text());let y=await p.json();if(this.debug)for(let e of y.logLines??[])(0,l.Y7)(this.logger,"info","mutation",u,e);switch(y.status){case"success":return(0,a.du)(y.value);case"error":if(void 0!==y.errorData)throw f(y.errorData,new a.ik(y.errorMessage));throw Error(y.errorMessage);default:throw Error(`Invalid response: ${JSON.stringify(y)}`)}}async action(e,...t){let r=(0,o.Zy)(t[0]),u=(0,i.qQ)(e),c=JSON.stringify({path:u,format:"convex_encoded_json",args:[(0,a.rz)(r)]}),h={"Content-Type":"application/json","Convex-Client":`npm-${s.r}`};this.adminAuth?h.Authorization=`Convex ${this.adminAuth}`:this.auth&&(h.Authorization=`Bearer ${this.auth}`);let d=n||fetch,p=await d(`${this.address}/api/action`,{...this.fetchOptions,body:c,method:"POST",headers:h});if(!p.ok&&560!==p.status)throw Error(await p.text());let y=await p.json();if(this.debug)for(let e of y.logLines??[])(0,l.Y7)(this.logger,"info","action",u,e);switch(y.status){case"success":return(0,a.du)(y.value);case"error":if(void 0!==y.errorData)throw f(y.errorData,new a.ik(y.errorMessage));throw Error(y.errorMessage);default:throw Error(`Invalid response: ${JSON.stringify(y)}`)}}async function(e,t,...r){let u=(0,o.Zy)(r[0]),c="string"==typeof e?e:(0,i.qQ)(e),h=JSON.stringify({componentPath:t,path:c,format:"convex_encoded_json",args:(0,a.rz)(u)}),d={"Content-Type":"application/json","Convex-Client":`npm-${s.r}`};this.adminAuth?d.Authorization=`Convex ${this.adminAuth}`:this.auth&&(d.Authorization=`Bearer ${this.auth}`);let p=n||fetch,y=await p(`${this.address}/api/function`,{...this.fetchOptions,body:h,method:"POST",headers:d});if(!y.ok&&560!==y.status)throw Error(await y.text());let g=await y.json();if(this.debug)for(let e of g.logLines??[])(0,l.Y7)(this.logger,"info","any",c,e);switch(g.status){case"success":return(0,a.du)(g.value);case"error":if(void 0!==g.errorData)throw f(g.errorData,new a.ik(g.errorMessage));throw Error(g.errorMessage);default:throw Error(`Invalid response: ${JSON.stringify(g)}`)}}}function f(e,t){return t.data=(0,a.du)(e),t}},60634:(e,t,r)=>{r.d(t,{r:()=>n});let n="1.20.0"},64365:(e,t,r)=>{r.d(t,{du:()=>n.du,ik:()=>i.i,rz:()=>n.rz});var n=r(17796);r(41234),r(750);var i=r(8550)},76426:(e,t,r)=>{r(64365),r(91276);var n=Object.defineProperty,i=Object.defineProperty;r(36024),r(8550);var o=Object.defineProperty,s=Object.defineProperty,a=(e,t,r)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,l=(e,t,r)=>a(e,"symbol"!=typeof t?t+"":t,r);class u{constructor(e,t){l(this,"low"),l(this,"high"),l(this,"__isUnsignedLong__"),this.low=0|e,this.high=0|t,this.__isUnsignedLong__=!0}static isLong(e){return!0===(e&&e.__isUnsignedLong__)}static fromBytesLE(e){return new u(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24)}toBytesLE(){let e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]}static fromNumber(e){return isNaN(e)||e<0?c:e>=d?f:new u(e%h|0,e/h|0)}toString(){return(BigInt(this.high)*BigInt(h)+BigInt(this.low)).toString()}equals(e){return u.isLong(e)||(e=u.fromValue(e)),(this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low}notEquals(e){return!this.equals(e)}comp(e){return(u.isLong(e)||(e=u.fromValue(e)),this.equals(e))?0:e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1}lessThanOrEqual(e){return 0>=this.comp(e)}static fromValue(e){return"number"==typeof e?u.fromNumber(e):new u(e.low,e.high)}}let c=new u(0,0),h=0x100000000,d=0xffffffffffffffff,f=new u(-1,-1);var p=Object.defineProperty,y=Object.defineProperty;function g(e){this.message=e}function m(e){this.message=e}g.prototype=Error(),g.prototype.name="InvalidCharacterError","undefined"!=typeof window&&window.atob&&window.atob.bind(window),m.prototype=Error(),m.prototype.name="InvalidTokenError";var v=Object.defineProperty,b=Object.defineProperty},91276:(e,t,r)=>{r.d(t,{Y7:()=>l,y4:()=>a});var n=Object.defineProperty,i=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,o=(e,t,r)=>i(e,"symbol"!=typeof t?t+"":t,r);class s{constructor(e){o(this,"_onLogLineFuncs"),o(this,"_verbose"),this._onLogLineFuncs={},this._verbose=e.verbose}addLogLineListener(e){let t=Math.random().toString(36).substring(2,15);for(let e=0;e<10&&void 0!==this._onLogLineFuncs[t];e++)t=Math.random().toString(36).substring(2,15);return this._onLogLineFuncs[t]=e,()=>{delete this._onLogLineFuncs[t]}}logVerbose(...e){if(this._verbose)for(let t of Object.values(this._onLogLineFuncs))t("debug",`${new Date().toISOString()}`,...e)}log(...e){for(let t of Object.values(this._onLogLineFuncs))t("info",...e)}warn(...e){for(let t of Object.values(this._onLogLineFuncs))t("warn",...e)}error(...e){for(let t of Object.values(this._onLogLineFuncs))t("error",...e)}}function a(e){let t=new s(e);return t.addLogLineListener((e,...t)=>{switch(e){case"debug":console.debug(...t);break;case"info":default:console.log(...t);break;case"warn":console.warn(...t);break;case"error":console.error(...t)}}),t}function l(e,t,r,n,i){let o=function(e){switch(e){case"query":return"Q";case"mutation":return"M";case"action":return"A";case"any":return"?"}}(r);if("object"==typeof i&&(i=`ConvexError ${JSON.stringify(i.errorData,null,2)}`),"info"===t){let t=i.match(/^\[.*?\] /);if(null===t){e.error(`[CONVEX ${o}(${n})] Could not parse console.log`);return}let r=i.slice(1,t[0].length-2),s=i.slice(t[0].length);e.log(`%c[CONVEX ${o}(${n})] [${r}]`,"color:rgb(0, 145, 255)",s)}else e.error(`[CONVEX ${o}(${n})] ${i}`)}},98049:(e,t,r)=>{r.d(t,{A:()=>n});let n=Symbol.for("functionName")}};